<div ng-include="'/partials/nav/navigation.html'"></div>
<div id="page-wrapper">
  <div class="row">
    <div class="col-lg-12">

      <div class="col-lg-12 margin-tb  page-header">

          <div class="pull-left">
              <h1>Borrow Logs</h1>
          </div>
          <div class="pull-right" style="padding-top:30px">
              <div class="box-tools" style="display:inline-table">
                <div class="input-group custom-search-form">
                    <input type="text" class="form-control ng-valid ng-dirty" placeholder="Search book" ng-change="searchDB()" ng-model="search" name="table_search" title="" tooltip="" data-original-title="Min character length is 3">
                    <span class="input-group-btn">
                      <button class="btn btn-default" type="button" ng-click="searchBook()">
                          <i class="fa fa-search"></i>
                      </button>
                    </span>
                </div>

              </div>
                <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#add-book-modal" style="vertical-align:top;" ng-click ="showAddModal()">
                <i class="fa fa-plus"></i> New Borrow Log
                 </button>

          </div>
      </div>


      <table class="table table-striped table-bordered table-hover">
        <thead>
          <th>Book</th>
          <th>Borrower</th>
          <th>Date Borrowed</th>
          <th>Date Returned</th>
          <th>Date Due</th>
          <th>Action</th>
        </thead>
        <tbody>
          <tr ng-repeat="b in FilteredBorrowList">
             <td>{{b.book_title }}</td>
             <td>{{b.borrower_fname}}</td>
             <td>{{b.borrow_date}}</td>
             <td>{{b.borrow_return}}</td>
             <td>{{b.due_date}}</td>
             <td>
               <div ng-if ="b.borrow_return == null"><button class="btn btn-success btn-sm" >Return Book</button></div>
             </td>
          </tr>
        </tbody>
      </table>

      <div uib-pagination
           total-items="borrowTotalItems"
           ng-model="borrowCurrentPage"
           max-size="borrowMaxSize"
           boundary-links="true"
           items-per-page ="borrowNumPerPage"
           ng-change = "borrowPageChanged()"
           >
      </div>




    </div>
  </div>
</div>
